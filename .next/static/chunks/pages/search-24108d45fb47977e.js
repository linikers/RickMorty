(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return a(1054)}])},176:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(5893),r=a(5675),s=a.n(r),c=a(6904),i=a.n(c),o=a(7294),u=a(4828);function l(e){let{id:t,name:a,image:r,specie:c}=e,{setFavorites:l,favorites:d,addToFavorites:_}=(0,o.useContext)(u.a);return(0,n.jsxs)("li",{className:i().card,children:[r&&(0,n.jsx)(s(),{src:r,alt:a||"",width:200,height:180,quality:75}),(0,n.jsx)("h2",{children:a}),(0,n.jsx)("p",{children:c}),(0,n.jsx)(h,{card:{id:t,name:a,image:r,specie:c}})]},t)}function h(e){let{card:t}=e,{favorites:a,addToFavorites:r}=(0,o.useContext)(u.a);return(0,n.jsx)("button",{className:i().btnCard,onClick:()=>r(t),children:"Favoritos"})}},8986:function(e,t,a){"use strict";a.d(t,{Z:function(){return _}});var n=a(5893),r=a(5675),s=a.n(r),c={src:"/_next/static/media/logo.245e2553.svg",height:221,width:752,blurWidth:0,blurHeight:0},i=a(7383),o=a.n(i),u=a(7294),l=a(1163),h=a(1664),d=a.n(h);function _(){let[e,t]=(0,u.useState)(""),a=(0,l.useRouter)(),r=async n=>{n.preventDefault(),e.trim()&&(await f(e.trim()),a.push("/search?q=".concat(e.trim())),t(""))};return(0,n.jsxs)("header",{className:o().top,children:[(0,n.jsx)(d(),{href:"/",children:(0,n.jsx)(s(),{className:o().logo,src:c,alt:"Rick and morty",quality:75,width:270,height:79})}),(0,n.jsx)(d(),{className:o().fav,href:"/favorites",children:"Favoritos"}),(0,n.jsxs)("form",{className:o().formSearch,onSubmit:r,children:[(0,n.jsx)("input",{className:o().inputSearch,id:"search",type:"text",placeholder:"Pesquisa",onChange:e=>t(e.target.value),value:e}),(0,n.jsx)("button",{className:o().btnSearch,type:"submit",children:"Busca"})]})]})}async function f(e){let t=await fetch("https://rickandmortyapi.com/api/character/?name=".concat(e)),a=await t.json();return console.log(a.results),a.results}},1054:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(5893),r=a(9008),s=a.n(r),c=a(7294),i=a(1163),o=a(176),u=a(8986),l=a(8922),h=a.n(l);async function d(){let e=(0,i.useRouter)(),[t,a]=(0,c.useState)(""),[r,l]=(0,c.useState)([]),[d,_]=(0,c.useState)([]);async function f(e){let t=await fetch("https://rickandmortyapi.com/api/character/?name=".concat(e)),{results:a}=await t.json();return{personas:a}}async function m(e){if(!e.image)throw Error("imagem n\xe3o encontrada");let t=await fetch(e.image),a=await t.blob(),n=URL.createObjectURL(a);return n}return(0,c.useEffect)(()=>{let{q:t}=e.query;t&&(a(t.toString()),function(e){f(e).then(e=>{let{personas:t}=e;l(t)})}(t.toString()))},[e.query]),await Promise.all(r.map(async e=>m(e))),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Rick and Morty - Busca"}),(0,n.jsx)("meta",{name:"description",content:"Rick and Morty"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(u.Z,{}),(0,n.jsxs)("main",{className:h().main,children:[(0,n.jsxs)("h2",{children:["Resultados para ",t]}),(0,n.jsx)("ul",{className:h().listPersona,children:r.map((e,t)=>(0,n.jsx)(o.Z,{id:t,image:d[t],name:e.name,specie:e.species},e.id))})]})]})}},6904:function(e){e.exports={card:"Card_card__yiMvd",btnCard:"Card_btnCard__41Vxy"}},7383:function(e){e.exports={top:"Header_top__q5KzD",logo:"Header_logo__YVuNB",fav:"Header_fav__Ph6yu",formSearch:"Header_formSearch__OAhFB",inputSearch:"Header_inputSearch__AmGno",btnSearch:"Header_btnSearch__5GJVN"}},8922:function(e){e.exports={main:"Search_main__JyDbq",listPersona:"Search_listPersona__gvvQt",favMsg:"Search_favMsg__MPhGb",favB:"Search_favB__t9hzV"}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);